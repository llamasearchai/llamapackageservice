# Hybrid Code Engine - Master Implementation Prompt

Create a high-performance hybrid code analysis engine combining Rust and Python, optimized for Apple Silicon, featuring: Rust-based vector operations using Qdrant for blazing-fast similarity search, Python/MLX integration for code analysis and embedding generation using mlx-community models (Mistral-7B and E5-large-v2), a clean REST API with Axum for seamless integration, async processing throughout the stack, efficient batch operations for both embeddings and vector searches, zero-copy deserialization in the Rust layer, connection pooling for optimal performance, SIMD operations for vector calculations, MLX hardware acceleration for ML tasks, comprehensive result caching, and a clean CLI interface - all packaged in a modular architecture with separate Rust (api, vector) and Python (mlx_engine, processor) components, exposed through both direct client integration and REST endpoints, supporting operations like semantic code search, pattern analysis, and batch processing, while maintaining type safety, comprehensive error handling, and detailed logging throughout the system, with the entire solution deployable as an independent module that can be easily integrated into existing codebases through its well-defined API contract and client interfaces, complete with OpenAPI specifications for all endpoints and clear documentation for all integration patterns.
